let savedColor=[],currentColor="#ff0000";const selectedColorShowcase=document.querySelector(".__selected-color span"),hexInput=document.querySelector("._hex input"),rgbInput=document.querySelector("._rgb input"),hexCopy=document.querySelector("._hex .copy_"),rgbCopy=document.querySelector("._rgb .copy_"),savedColorList=document.querySelector("._list"),saveColorButton=document.querySelector(".save_"),removeAllButton=document.querySelector(".remove-all_"),joe=colorjoe.rgb(document.querySelector(".__colorjoe div"),"red");function copyColor(e){e.select(),e.setSelectionRange(0,99999),navigator.clipboard.writeText(e.value)}function saveColor(){let e=`<span style="background: ${currentColor}" data-color="${currentColor}" onclick="selectSavedColor(this.dataset.color)" oncontextmenu="removeColor(this.dataset.color, this)"></span>`,o=savedColor.some((e,o)=>e==currentColor);o||("Empty."==savedColorList.innerText&&(savedColorList.innerText="",savedColorList.style.justifyContent="flex-start"),savedColorList.innerHTML+=e,savedColor.push(currentColor),saveSavedColor())}function selectSavedColor(e){joe.set(e),saveLastSelectedColor()}function removeColor(e,o){o.remove(),savedColor.forEach((o,t)=>{o==e&&savedColor.splice(t,1)}),0==savedColor.length&&(savedColorList.innerText="Empty.",savedColorList.style.justifyContent="center"),saveSavedColor()}function removeAllColor(){savedColorList.innerText="Empty.",savedColorList.style.justifyContent="center",savedColor=[],saveSavedColor()}function setColor(e){joe.set(e.value),saveLastSelectedColor()}joe.on("change",e=>{currentColor=e.hex(),selectedColorShowcase.style.background=e.hex(),hexInput.value=e.hex(),rgbInput.value=e.css().replaceAll(",",", ")}),joe.on("done",e=>saveLastSelectedColor());const colorSaved="Saved_Color",lastSelectedColor="Last_Selected_Color";function saveSavedColor(){localStorage.setItem(colorSaved,JSON.stringify(savedColor))}function loadSavedColor(){0==(savedColor=JSON.parse(localStorage.getItem(colorSaved))||[]).length?savedColorList.innerText="Empty.":(savedColorList.innerText="",savedColorList.style.justifyContent="flex-start"),savedColor.forEach((e,o)=>{let t=`<span style="background: ${e}" data-color="${e}" onclick="selectSavedColor(this.dataset.color)" oncontextmenu="removeColor(this.dataset.color, this)"></span>`;savedColorList.innerHTML+=t})}function saveLastSelectedColor(){localStorage.setItem(lastSelectedColor,currentColor)}function loadLastSelectedColor(){let e=localStorage.getItem(lastSelectedColor)||"#ff0000";joe.set(e)}hexInput.addEventListener("change",()=>setColor(hexInput)),rgbInput.addEventListener("change",()=>setColor(rgbInput)),hexCopy.addEventListener("click",()=>copyColor(hexInput)),rgbCopy.addEventListener("click",()=>copyColor(rgbInput)),saveColorButton.addEventListener("click",saveColor),removeAllButton.addEventListener("click",removeAllColor),document.addEventListener("DOMContentLoaded",()=>{loadSavedColor(),loadLastSelectedColor()});